<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Lecture 4a: Either, Xor, and Validated</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="theme/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    <!-- /Javascripts -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>
<body style="!important;">
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Lecture 4a: Either, Xor, and Validated</h1></header>
            
            
            <section><p><img alt="" src="images/lecture4a/cats.png" /></p>
<!--Products and Coproducts -->

<!---
http://danielwestheide.com/blog/2012/12/19/the-neophytes-guide-to-scala-part-5-the-option-type.html
http://danielwestheide.com/blog/2012/12/26/the-neophytes-guide-to-scala-part-6-error-handling-with-try.html
--></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              1/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Either</h1></header>
            
            
            <section><p><code>Either</code>, like <code>Option</code> is a monadic container that can hold one of two things.</p>
<p><code>Option</code> has only one generic type: <code>Some</code></p>
<p><code>Either</code> has two generic types: left/incorrect and right/correct.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              2/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span></span><span class="k">trait</span> <span class="nc">Either</span><span class="o">[</span><span class="kt">+E</span>,<span class="kt">+A</span><span class="o">]</span> <span class="c1">//base trait</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Left</span><span class="o">[</span><span class="kt">+E</span><span class="o">](</span><span class="n">e</span><span class="k">:</span> <span class="kt">E</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Either</span><span class="o">[</span><span class="kt">E</span>, <span class="kt">Nothing</span><span class="o">]</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Right</span><span class="o">[</span><span class="kt">+A</span><span class="o">](</span><span class="n">a</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Either</span><span class="o">[</span><span class="kt">Nothing</span>, <span class="kt">A</span><span class="o">]</span>
</pre></div>

<p>The left side of <code>Either</code> is <em>typically</em> an <code>Exception</code> of some form, and is usually intended to be the "end of the chain."  </p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              3/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>A <code>Left</code> instance of <code>Either</code> will have <code>Nothing</code> for its "right" type.</p>
<p>A <code>Right</code> instance of <code>Either</code> will have <code>Nothing</code> for its "left" type.</p>
<p>The generic letter for the "left" type is "E" because it is usually a subtype of Java's <code>Exception</code>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              4/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span></span><span class="k">trait</span> <span class="nc">Either</span><span class="o">[</span><span class="kt">+E</span>,<span class="kt">+A</span><span class="o">]</span> <span class="o">{</span>
 <span class="k">def</span> <span class="n">map</span><span class="o">[</span><span class="kt">B</span><span class="o">](</span><span class="n">f</span><span class="k">:</span> <span class="kt">A</span> <span class="o">=&gt;</span> <span class="n">B</span><span class="o">)</span><span class="k">:</span> <span class="kt">Either</span><span class="o">[</span><span class="kt">E</span>, <span class="kt">B</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">this</span> <span class="k">match</span> <span class="o">{</span>
     <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>
     <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Right</span><span class="o">(</span><span class="n">f</span><span class="o">(</span><span class="n">a</span><span class="o">))</span>
    <span class="o">}</span>
 <span class="k">def</span> <span class="n">flatMap</span><span class="o">[</span><span class="kt">EE</span> <span class="k">&gt;:</span> <span class="kt">E</span>, <span class="kt">B</span><span class="o">](</span><span class="n">f</span><span class="k">:</span> <span class="kt">A</span> <span class="o">=&gt;</span> <span class="nc">Either</span><span class="o">[</span><span class="kt">EE</span>, <span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">Either</span><span class="o">[</span><span class="kt">EE</span>, <span class="kt">B</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">this</span> <span class="k">match</span> <span class="o">{</span>
     <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span>
     <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">f</span><span class="o">(</span><span class="n">a</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              5/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Lower Type Bounds</h1></header>
            
            
            <section><p>In chapter 4 of FPS, the authors note the necessity of the lower type bound generic <code>B</code> in the <code>getOrElse</code> and <code>orElse</code> combinators.</p>
<div class="highlight"><pre><span></span><span class="k">trait</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">+A</span><span class="o">]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">getOrElse</span><span class="o">[</span><span class="kt">B</span> <span class="k">&gt;:</span> <span class="kt">A</span><span class="o">](</span><span class="n">default</span><span class="k">:</span> <span class="o">=&gt;</span> <span class="n">B</span><span class="o">)</span><span class="k">:</span> <span class="kt">B</span>
    <span class="k">def</span> <span class="n">orElse</span><span class="o">[</span><span class="kt">B</span> <span class="k">&gt;:</span> <span class="kt">A</span><span class="o">](</span><span class="n">ob</span><span class="k">:</span> <span class="o">=&gt;</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              6/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p><code>B &gt;: A</code> is a <a href="http://docs.scala-lang.org/tutorials/tour/lower-type-bounds.html"><em>lower type bound</em></a>;</p>
<p>Generic <code>B</code> can be a supertype of <code>A</code>, or an equal type to <code>A</code>.</p>
<p>It is likely you will use <a href="http://docs.scala-lang.org/tutorials/tour/upper-type-bounds.html"><em>upper type bounds</em></a> more frequently.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              7/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>An instance of <code>Some[A]</code> is an <code>Option[A]</code>.</p>
<p>The instance of <code>None</code> is an <code>Option[Nothing]</code>.</p>
<div class="highlight"><pre><span></span><span class="k">case</span> <span class="k">class</span> <span class="nc">Some</span><span class="o">[</span><span class="kt">+A</span><span class="o">](</span><span class="n">get</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="k">case</span> <span class="k">object</span> <span class="nc">None</span> <span class="k">extends</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              8/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p><a href="http://www.scala-lang.org/api/current/index.html#scala.Nothing"><code>Nothing</code></a> is at the bottom of Scala's type hierarchy, i.e. <code>Nothing &lt;: A</code> for all types <code>A</code>.</p>
<p>Since <code>Option</code> is covariant, an <code>Option[Nothing]</code> can be an <code>Option[A]</code> for all types <code>A</code>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              9/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Given</p>
<div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">failed</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span> <span class="k">=</span> <span class="nc">None</span>
</pre></div>

<p>if not for the lower type bound generic <code>B &gt;: A</code>, <code>getOrElse</code> would be limited to this signature when called on <code>failed</code>:</p>
<div class="highlight"><pre><span></span><span class="n">getOrElse</span><span class="o">(</span><span class="n">default</span><span class="k">:</span> <span class="o">=&gt;</span> <span class="nc">Nothing</span><span class="o">)</span><span class="k">:</span> <span class="kt">Nothing</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              10/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>With <code>B &gt;: A</code>, <code>getOrElse</code> on <code>failed</code> becomes:</p>
<div class="highlight"><pre><span></span><span class="n">getOrElse</span><span class="o">[</span><span class="kt">B</span> <span class="k">&gt;:</span> <span class="kt">Nothing</span><span class="o">](</span><span class="n">default</span><span class="k">:</span> <span class="o">=&gt;</span> <span class="n">B</span><span class="o">)</span><span class="k">:</span> <span class="kt">B</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              11/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>The same explanation of the necessity of the lower type bound generic holds for <code>Either</code>.</p>
<p>If not for the lower type bound generic <code>EE</code>, <code>flatMap</code> would be limited to this signature when called on an instance of <code>Left</code>:</p>
<div class="highlight"><pre><span></span><span class="n">flatMap</span><span class="o">[</span><span class="kt">B</span><span class="o">](</span><span class="n">f</span><span class="k">:</span> <span class="kt">A</span> <span class="o">=&gt;</span> <span class="nc">Either</span><span class="o">[</span><span class="kt">Nothing</span>, <span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">Either</span><span class="o">[</span><span class="kt">Nothing</span>, <span class="kt">B</span><span class="o">]</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              12/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>Why would you need to call <code>flatMap</code> on an instance of <code>Left</code>?</p>
<p>Because at run-time your <code>Either</code> may not be a <code>Right</code> as you expected; it may be a <code>Left</code>.</p>
<p>But at compile-time, the combinators must type-check for either way this could go.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              13/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Xor</h1></header>
            
            
            <section><p>Cats provides an alternative to the Scala standard library's  <a href="http://www.scala-lang.org/api/current/#scala.util.Either">Either</a> in <code>cats.data.Xor</code>.</p>
<p>Why have this?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              14/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>The main reason is that <code>Either</code> is unbiased.</p>
<p>This means we must first use projection (<code>.left</code> or <code>.right</code>) to access <code>flatMap</code>, <code>map</code>, etc.:</p>
<div class="highlight"><pre><span></span><span class="nc">Right</span><span class="o">(</span><span class="mi">123</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="nc">Right</span><span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="o">))</span>
<span class="c1">//error: value flatMap is not a member of scala.util.Right[Nothing,Int]</span>
<span class="nc">Right</span><span class="o">(</span><span class="mi">123</span><span class="o">).</span><span class="n">right</span><span class="o">.</span><span class="n">flatMap</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="nc">Right</span><span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="o">))</span>
<span class="c1">//res0: scala.util.Either[Nothing,Int] = Right(246)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              15/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>This makes <code>Either</code> inconvenient to use as a monad, especially as the convention in most functional languages is that the left side represents errors.</p>
<p><code>Xor</code> complies with convention and thus supports <code>map</code> and <code>flatMap</code> directly:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.data.Xor</span>
<span class="k">val</span> <span class="n">a</span> <span class="k">=</span> <span class="nc">Xor</span><span class="o">.</span><span class="nc">Right</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="c1">//a: cats.data.Xor.Right[Int] = Right(1)</span>
<span class="n">a</span><span class="o">.</span><span class="n">flatMap</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="nc">Xor</span><span class="o">.</span><span class="nc">Right</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">))</span>
<span class="c1">//res1: cats.data.Xor[Nothing,Int] = Right(3)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              16/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>The <code>Xor</code> object provides the <code>Xor.left</code> and <code>Xor.right</code> constructors as we saw above, as well as smart constructors via the type class syntax pattern:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.syntax.xor._</span>
<span class="k">val</span> <span class="n">a</span> <span class="k">=</span> <span class="mf">3.</span><span class="n">right</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
<span class="c1">//a: cats.data.Xor[String,Int] = Right(3)</span>
<span class="k">val</span> <span class="n">b</span> <span class="k">=</span> <span class="mf">4.</span><span class="n">right</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
<span class="c1">//b: cats.data.Xor[String,Int] = Right(4)</span>
<span class="k">for</span> <span class="o">{</span>
    <span class="n">x</span> <span class="k">&lt;-</span> <span class="n">a</span>
    <span class="n">y</span> <span class="k">&lt;-</span> <span class="n">b</span>
<span class="o">}</span> <span class="k">yield</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span>
<span class="c1">//res2: cats.data.Xor[String,Int] = Right(25)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              17/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p><code>Xor</code> also supports familiar additional methods like <code>getOrElse</code>, and <code>orElse</code>.</p>
<p>We can use <code>getOrElse</code> to extract the right value or return a default:</p>
<div class="highlight"><pre><span></span><span class="mf">1.</span><span class="n">right</span><span class="o">[</span><span class="kt">String</span><span class="o">].</span><span class="n">getOrElse</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
<span class="c1">//res4: Int = 1</span>
<span class="s">&quot;Error&quot;</span><span class="o">.</span><span class="n">left</span><span class="o">[</span><span class="kt">Int</span><span class="o">].</span><span class="n">getOrElse</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
<span class="c1">//res5: Int = 0</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              18/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Like <code>Either</code>, <code>Xor</code> is typically used to implement fail-fast error handling.</p>
<p>We sequence a number of computations using <code>flatMap</code>, and if one fails the remaining computations are not run:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="o">{</span>
    <span class="n">a</span> <span class="k">&lt;-</span> <span class="mf">1.</span><span class="n">right</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
    <span class="n">b</span> <span class="k">&lt;-</span> <span class="mf">0.</span><span class="n">right</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
    <span class="n">c</span> <span class="k">&lt;-</span> <span class="k">if</span><span class="o">(</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="s">&quot;DIV0&quot;</span><span class="o">.</span><span class="n">left</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">else</span> <span class="o">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">).</span><span class="n">right</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
<span class="o">}</span> <span class="k">yield</span> <span class="n">c</span> <span class="o">*</span> <span class="mi">100</span>
<span class="c1">//res6: cats.data.Xor[String,Int] = Left(DIV0)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              19/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>When using <code>Xor</code> for error handling, we need to determine what type we want to use to represent errors. We could use <code>Throwable</code> for this as follows:</p>
<div class="highlight"><pre><span></span><span class="k">type</span> <span class="kt">Result</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Xor</span><span class="o">[</span><span class="kt">Throwable</span>, <span class="kt">A</span><span class="o">]</span>
<span class="c1">//infix notation</span>
<span class="k">type</span> <span class="kt">Result</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Throwable</span> <span class="nc">Xor</span> <span class="n">A</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              20/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>This gives us similar semantics to <code>Try</code> from the Scala standard library.</p>
<p>The problem, however, is that <code>Throwable</code> is an extremely broad supertype, and we have little insight into what type of error occurred.</p>
<p>Another approach is to define an algebraic data type to represent the types of error that can occur.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              21/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Example: Login Errors</h1></header>
            
            
            <section><div class="highlight"><pre><span></span><span class="k">case</span> <span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">username</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">password</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">LoginError</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">UserNotFound</span><span class="o">(</span><span class="n">username</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">LoginError</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">PasswordIncorrect</span><span class="o">(</span><span class="n">username</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">LoginError</span>
<span class="k">trait</span> <span class="nc">UnexpectedError</span> <span class="k">extends</span> <span class="nc">LoginError</span>
<span class="k">type</span> <span class="kt">LoginResult</span> <span class="o">=</span> <span class="nc">LoginError</span> <span class="nc">Xor</span> <span class="nc">User</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              22/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>This approach solves the problems we saw with <code>Throwable</code>.</p>
<p>It gives us a fixed set of expected error types and a catch-all for anything else that we didn’t expect.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              23/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Now we get precise type checking on any pattern matching:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="n">handleError</span><span class="o">(</span><span class="n">error</span><span class="k">:</span> <span class="kt">LoginError</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="n">error</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">UserNotFound</span><span class="o">(</span><span class="n">u</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">s&quot;User not found: </span><span class="si">$u</span><span class="s">&quot;</span><span class="o">)</span>
    <span class="k">case</span> <span class="nc">PasswordIncorrect</span><span class="o">(</span><span class="n">u</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">s&quot;Password: </span><span class="si">$u</span><span class="s">&quot;</span><span class="o">)</span>
    <span class="k">case</span> <span class="k">_</span> <span class="k">:</span> <span class="kt">UnexpectedError</span> <span class="o">=&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">s&quot;Unexpected error&quot;</span><span class="o">)</span>
<span class="o">}</span>
<span class="nc">User</span><span class="o">(</span><span class="s">&quot;cem3394&quot;</span><span class="o">,</span> <span class="s">&quot;passw0rd&quot;</span><span class="o">).</span><span class="n">right</span>
<span class="c1">//res0: Xor[Nothing,User] = Right(User(cem3394,passw0rd))</span>
<span class="nc">UserNotFound</span><span class="o">(</span><span class="s">&quot;cem3394&quot;</span><span class="o">).</span><span class="n">left</span>
<span class="c1">//res1: Xor[UserNotFound,Nothing] = Left(UserNotFound(cem3394))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              24/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Cartesian</h1></header>
            
            
            <section><p><code>Cartesian</code> is a type class that allows us to “tuple” values within a context.</p>
<p>If we have two objects of type <code>F[A]</code> and <code>F[B]</code>, a <code>Cartesian[F]</code> allows us to combine them to form an <code>F[(A, B)]</code>.</p>
<p>Recall that this was a motivating example when we introduced the type class pattern in lecture 2.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              25/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Example: Combining Options</h1></header>
            
            
            <section><p>The code below summons a type class instance for Option and uses it to zip two values:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.Cartesian</span>
<span class="k">import</span> <span class="nn">cats.instances.option._</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">Option</span><span class="o">].</span><span class="n">product</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="mi">123</span><span class="o">),</span> <span class="nc">Some</span><span class="o">(</span><span class="s">&quot;abc&quot;</span><span class="o">))</span>
<span class="c1">//res0: Option[(Int, String)] = Some((123,abc))</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">Option</span><span class="o">].</span><span class="n">product</span><span class="o">(</span><span class="nc">None</span><span class="o">,</span> <span class="nc">Some</span><span class="o">(</span><span class="s">&quot;abc&quot;</span><span class="o">))</span>
<span class="c1">//res1: Option[(Nothing, String)] = None</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">Option</span><span class="o">].</span><span class="n">product</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="mi">123</span><span class="o">),</span> <span class="nc">None</span><span class="o">)</span>
<span class="c1">//res2: Option[(Int, Nothing)] = None</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              26/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Its type class definition in Cats is:</p>
<div class="highlight"><pre><span></span><span class="k">trait</span> <span class="nc">Cartesian</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">product</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">B</span><span class="o">](</span><span class="n">fa</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">fb</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">F</span><span class="o">[(</span><span class="kt">A</span>, <span class="kt">B</span><span class="o">)]</span>
<span class="o">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              27/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Note that the parameters <code>fa</code> and <code>fb</code> are independent of one another.</p>
<p>This contrasts with <code>flatMap</code>, in which <code>fb</code> is evaluated using <code>a</code>:</p>
<div class="highlight"><pre><span></span><span class="k">trait</span> <span class="nc">FlatMap</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">flatMap</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">B</span><span class="o">](</span><span class="n">fa</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">])(</span><span class="n">fb</span><span class="k">:</span> <span class="kt">A</span> <span class="o">=&gt;</span> <span class="n">F</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              28/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>We can define our own <code>product</code> for any monad as:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.Monad</span>
<span class="k">import</span> <span class="nn">cats.syntax.flatMap._</span>
<span class="k">import</span> <span class="nn">cats.syntax.functor._</span>
<span class="k">import</span> <span class="nn">scala.language.higherKinds</span>
<span class="k">def</span> <span class="n">product</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]</span><span class="kt">:</span> <span class="kt">Monad</span>, <span class="kt">A</span>, <span class="kt">B</span><span class="o">](</span><span class="n">fa</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">fb</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">F</span><span class="o">[(</span><span class="kt">A</span>,<span class="kt">B</span><span class="o">)]</span> <span class="k">=</span>
    <span class="k">for</span> <span class="o">{</span>
        <span class="n">a</span> <span class="k">&lt;-</span> <span class="n">fa</span>
        <span class="n">b</span> <span class="k">&lt;-</span> <span class="n">fb</span>
    <span class="o">}</span> <span class="k">yield</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              29/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>Making this choice makes it easier to reason about uses of product for a specific monad instance—we only have to remember the semantics of flatMap to understand how product will work.</p>
<p>We've seen that we can implement product in terms of the monad operations. Why bother with the Cartesian type class then?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              30/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>One reason to have the Cartesian type class is to enforce consistent behavior for all monad instances.</p>
<p>Another reason is that <code>product</code> (and in particular the 'tie-fighter' operator <code>|@|</code> we’ll see in lecture 12) is more convenient than writing out the for comprehension.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              31/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>The most important reason however is that <code>Cartesian</code> is strictly weaker than <code>Monad</code>.</p>
<p>Next we'll look at a type (called an applicative) for which we can define <code>product</code> but not a monad instance.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              32/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Validated</h1></header>
            
            
            <section><p>Recall that <code>Xor</code> is a monad, so its <code>product</code> is implemented in terms of <code>flatMap</code>.
<br />
<br />
Let's experiment with this for a bit.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              33/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.data.Xor</span>
<span class="k">type</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="nc">Xor</span> <span class="n">A</span>
<span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Xor</span><span class="o">.</span><span class="n">right</span><span class="o">(</span><span class="mi">123</span><span class="o">)</span>
<span class="k">val</span> <span class="n">b</span><span class="k">:</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Xor</span><span class="o">.</span><span class="n">right</span><span class="o">(</span><span class="s">&quot;abc&quot;</span><span class="o">)</span>
<span class="n">product</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span>
<span class="c1">//res0: ErrorOr[(Int, String)] = Right((123,abc))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              34/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>However, if we try to combine two failed <code>Xors</code>, only the left-most errors are retained:</p>
<div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">c</span><span class="k">:</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Xor</span><span class="o">.</span><span class="n">left</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">&quot;Fail 1&quot;</span><span class="o">))</span>
<span class="k">val</span> <span class="n">d</span><span class="k">:</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Xor</span><span class="o">.</span><span class="n">left</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">&quot;Fail 2&quot;</span><span class="o">))</span>
<span class="n">product</span><span class="o">(</span><span class="n">c</span><span class="o">,</span><span class="n">d</span><span class="o">)</span>
<span class="c1">//res1: ErrorOr[(Nothing, Nothing)] = Left(List(Fail 1))</span>
</pre></div>

<p>This is what is meant by 'failing fast'.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              35/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>However fail-fast semantics aren’t always the best choice.
<br />
<br />
For example, when validating a web form, we want to accumulate errors for all invalid fields, not just the first one we find.
<br />
<br />
If we model this with a monad like <code>Xor</code>, we fail fast and lose errors.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              36/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Example: Parsing</h1></header>
            
            
            <section><div class="highlight"><pre><span></span><span class="k">def</span> <span class="n">parseInt</span><span class="o">(</span><span class="n">str</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="kt">Xor</span> <span class="kt">Int</span> <span class="o">=</span>
    <span class="nc">Xor</span><span class="o">.</span><span class="n">catchOnly</span><span class="o">[</span><span class="kt">NumberFormatException</span><span class="o">](</span><span class="n">str</span><span class="o">.</span><span class="n">toInt</span><span class="o">)</span>
         <span class="o">.</span><span class="n">leftMap</span><span class="o">(</span><span class="k">_</span> <span class="k">=&gt;</span> <span class="s">s&quot;Couldn&#39;t read </span><span class="si">$str</span><span class="s">&quot;</span><span class="o">)</span>
<span class="c1">//parseInt: (str: String)cats.data.Xor[String,Int]</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              37/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>The situation is the same with for comprehensions. The code below fails on the first call to <code>parseInt</code> and doesn’t go any further:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="o">{</span>
    <span class="n">a</span> <span class="k">&lt;-</span> <span class="n">parseInt</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">)</span>
    <span class="n">b</span> <span class="k">&lt;-</span> <span class="n">parseInt</span><span class="o">(</span><span class="s">&quot;b&quot;</span><span class="o">)</span>
    <span class="n">c</span> <span class="k">&lt;-</span> <span class="n">parseInt</span><span class="o">(</span><span class="s">&quot;c&quot;</span><span class="o">)</span>
<span class="o">}</span> <span class="k">yield</span> <span class="o">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="o">)</span>
<span class="c1">//res0: Xor[String,Int] = Left(Couldn&#39;t read a)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              38/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>Cats provides another data type called <code>Validated</code> in addition to <code>Xor</code>.
<br />
<br />
<code>Validated</code> is an example of a non-monadic applicative.
<br />
<br />
This means Cats can provide an error-accumulating implementation of product for <code>Validated</code> without introducing inconsistent semantics.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              39/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p><code>Validated</code> has two subtypes, <code>Validated.Valid</code> and <code>Validated.Invalid</code>, that correspond to <code>Xor.Right</code> and <code>Xor.Left</code>.</p>
<p>We can create instances directly using their <code>apply</code> methods:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.data.Validated</span>
<span class="k">val</span> <span class="n">v</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">.</span><span class="nc">Valid</span><span class="o">(</span><span class="mi">123</span><span class="o">)</span>
<span class="c1">//v: cats.data.Validated.Valid[Int] = Valid(123)</span>
<span class="k">val</span> <span class="n">i</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">.</span><span class="nc">Invalid</span><span class="o">(</span><span class="s">&quot;oops&quot;</span><span class="o">)</span>
<span class="c1">//i: cats.data.Validated.Invalid[String] = Invalid(oops)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              40/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>It is better for type inference to use smart constructors:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">Validated.</span><span class="o">{</span><span class="n">valid</span><span class="o">,</span> <span class="n">invalid</span><span class="o">}</span>
<span class="k">val</span> <span class="n">v</span> <span class="k">=</span> <span class="n">valid</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">Int</span><span class="o">](</span><span class="mi">123</span><span class="o">)</span>
<span class="c1">//v: Validated[String,Int] = Valid(123)</span>
<span class="k">val</span> <span class="n">i</span> <span class="k">=</span> <span class="n">invalid</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">Int</span><span class="o">](</span><span class="s">&quot;oops&quot;</span><span class="o">)</span>
<span class="c1">//i: Validated[String,Int] = Invalid(oops)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              41/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>And again we can import enriched <code>valid</code> and <code>invalid</code> methods from <code>cats.syntax.validated</code>:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.syntax.validated._</span>
<span class="mf">123.</span><span class="n">valid</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
<span class="c1">//res0: Validated[String,Int] = Valid(123)</span>
<span class="s">&quot;oops&quot;</span><span class="o">.</span><span class="n">invalid</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span>
<span class="c1">//res1: Validated[String,Int] = Invalid(oops)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              42/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Unlike the <code>Xor</code>’s monad, which cuts the calculation short, <code>Validated</code> keeps going to report back all failures.</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.data.Validated</span>
<span class="k">import</span> <span class="nn">cats.syntax.cartesian._</span>
<span class="k">type</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">[</span><span class="kt">String</span>,<span class="kt">A</span><span class="o">]</span>
<span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">.</span><span class="nc">Invalid</span><span class="o">(</span><span class="s">&quot;foo&quot;</span><span class="o">)</span>
<span class="k">val</span> <span class="n">b</span><span class="k">:</span> <span class="kt">ErrorOr</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">.</span><span class="nc">Invalid</span><span class="o">(</span><span class="s">&quot;bar!&quot;</span><span class="o">)</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">ErrorOr</span><span class="o">].</span><span class="n">product</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span>
<span class="c1">//res0: ErrorOr[(Nothing, Nothing)] = Invalid(foobar!)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              43/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>Similar to <code>Writer</code>, <code>Validated</code> accumulates errors using a <code>Semigroup</code> (the append part of a <code>Monoid</code>).</p>
<p>This means we can use any <code>Monoid</code> as an error type, including <code>String</code>, <code>List</code>, and <code>Vector</code>, as well as pure semigroups like <code>NonEmptyList</code>s.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              44/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.Cartesian</span>
<span class="k">type</span> <span class="kt">StringOr</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">A</span><span class="o">]</span>
<span class="k">import</span> <span class="nn">cats.std.string._</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">StringOr</span><span class="o">].</span><span class="n">product</span><span class="o">(</span>
  <span class="nc">Validated</span><span class="o">.</span><span class="n">invalid</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">),</span>
  <span class="nc">Validated</span><span class="o">.</span><span class="n">invalid</span><span class="o">(</span><span class="s">&quot; world&quot;</span><span class="o">)</span>
<span class="o">)</span>
<span class="c1">//res0 = Invalid(Hello world)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              45/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Lists have a monoid instance as well:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.std.list._</span>
<span class="k">type</span> <span class="kt">ListOr</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>, <span class="kt">A</span><span class="o">]</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">ListOr</span><span class="o">].</span><span class="n">product</span><span class="o">(</span>
  <span class="nc">Validated</span><span class="o">.</span><span class="n">invalid</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">)),</span>
  <span class="nc">Validated</span><span class="o">.</span><span class="n">invalid</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">&quot;world&quot;</span><span class="o">))</span>
<span class="o">)</span>
<span class="c1">//res1 = Invalid(List(Hello, world))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              46/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><p>Note that vectors have a more efficient append operation than lists and should be used instead:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.std.vector._</span>
<span class="k">type</span> <span class="kt">VectorOr</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Validated</span><span class="o">[</span><span class="kt">Vector</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span>, <span class="kt">A</span><span class="o">]</span>
<span class="nc">Cartesian</span><span class="o">[</span><span class="kt">VectorOr</span><span class="o">].</span><span class="n">product</span><span class="o">(</span>
  <span class="nc">Validated</span><span class="o">.</span><span class="n">invalid</span><span class="o">(</span><span class="nc">Vector</span><span class="o">(</span><span class="mi">404</span><span class="o">)),</span>
  <span class="nc">Validated</span><span class="o">.</span><span class="n">invalid</span><span class="o">(</span><span class="nc">Vector</span><span class="o">(</span><span class="mi">500</span><span class="o">))</span>
<span class="o">)</span>
<span class="c1">//res2 = Invalid(Vector(404, 500))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              47/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p><code>Xor</code> vs <code>Validated</code></p>
<p>Which is better?</p>
<p>The answer depends on the semantics we’re looking for.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              48/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            
            <section><p>Some points to ponder:</p>
<ul>
<li>Sometimes sequentiality (i.e.<code>flatMap</code>) is exactly what you need. Perhaps you want fail-fast semantics or the ability use the contents of one container as an argument to the next container.</li>
<li>Error recovery is important when processing large jobs like Spark pipelines. We don’t want to run a job for an hour and then find it failed on the last element.</li>
<li>Error reporting is equally important. We need to know what went wrong, not just that something went wrong.</li>
<li>In a number of cases we want to collect all the errors, not just the first one we encountered.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              49/50
            </aside>

          </footer>
        </div>
      </div>
      
      <!-- slide source: lecture4a.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Homework</h1></header>
            
            
            <section><p>Read Chapter 5 of <em>Functional Programming in Scala</em>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>


          <footer>
            
            <aside class="source">
              Source: <a href="lecture4a.md">lecture4a.md</a>
            </aside>
            
            <aside class="page_number">
              50/50
            </aside>

          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">Lecture 4a: Either, Xor, and Validated</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Either</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">-</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">-</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">-</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Lower Type Bounds</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">-</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">-</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">-</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">-</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">-</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">-</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">-</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">Xor</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">-</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">-</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">-</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">-</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">-</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">-</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">-</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Example: Login Errors</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">-</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">-</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">Cartesian</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">Example: Combining Options</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">-</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
      <tr id="toc-row-28">
        <th><a href="#slide28">-</a></th>
        <td><a href="#slide28">28</a></td>
      </tr>
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29">-</a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">-</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">-</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
      
      <tr id="toc-row-32">
        <th><a href="#slide32">-</a></th>
        <td><a href="#slide32">32</a></td>
      </tr>
      
      
      <tr id="toc-row-33">
        <th><a href="#slide33">Validated</a></th>
        <td><a href="#slide33">33</a></td>
      </tr>
      
      
      <tr id="toc-row-34">
        <th><a href="#slide34">-</a></th>
        <td><a href="#slide34">34</a></td>
      </tr>
      
      
      <tr id="toc-row-35">
        <th><a href="#slide35">-</a></th>
        <td><a href="#slide35">35</a></td>
      </tr>
      
      
      <tr id="toc-row-36">
        <th><a href="#slide36">-</a></th>
        <td><a href="#slide36">36</a></td>
      </tr>
      
      
      <tr id="toc-row-37">
        <th><a href="#slide37">Example: Parsing</a></th>
        <td><a href="#slide37">37</a></td>
      </tr>
      
      
      <tr id="toc-row-38">
        <th><a href="#slide38">-</a></th>
        <td><a href="#slide38">38</a></td>
      </tr>
      
      
      <tr id="toc-row-39">
        <th><a href="#slide39">-</a></th>
        <td><a href="#slide39">39</a></td>
      </tr>
      
      
      <tr id="toc-row-40">
        <th><a href="#slide40">-</a></th>
        <td><a href="#slide40">40</a></td>
      </tr>
      
      
      <tr id="toc-row-41">
        <th><a href="#slide41">-</a></th>
        <td><a href="#slide41">41</a></td>
      </tr>
      
      
      <tr id="toc-row-42">
        <th><a href="#slide42">-</a></th>
        <td><a href="#slide42">42</a></td>
      </tr>
      
      
      <tr id="toc-row-43">
        <th><a href="#slide43">-</a></th>
        <td><a href="#slide43">43</a></td>
      </tr>
      
      
      <tr id="toc-row-44">
        <th><a href="#slide44">-</a></th>
        <td><a href="#slide44">44</a></td>
      </tr>
      
      
      <tr id="toc-row-45">
        <th><a href="#slide45">-</a></th>
        <td><a href="#slide45">45</a></td>
      </tr>
      
      
      <tr id="toc-row-46">
        <th><a href="#slide46">-</a></th>
        <td><a href="#slide46">46</a></td>
      </tr>
      
      
      <tr id="toc-row-47">
        <th><a href="#slide47">-</a></th>
        <td><a href="#slide47">47</a></td>
      </tr>
      
      
      <tr id="toc-row-48">
        <th><a href="#slide48">-</a></th>
        <td><a href="#slide48">48</a></td>
      </tr>
      
      
      <tr id="toc-row-49">
        <th><a href="#slide49">-</a></th>
        <td><a href="#slide49">49</a></td>
      </tr>
      
      
      <tr id="toc-row-50">
        <th><a href="#slide50">Homework</a></th>
        <td><a href="#slide50">50</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>